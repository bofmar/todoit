(()=>{"use strict";class t{#t;#e;#s;#i;#o;#n;constructor(t,e,s,i,o,n){this.#t=t,this.#e=e,this.#s=s,this.#i=i,this.#o=n,this.#n=o||crypto.randomUUID()}getTitle(){return this.#t}getDueDate(){return this.#e}getDescription(){return this.#s}getPriority(){return this.#i}getID(){return this.#n}isDone(){return this.#o}setTitle(t){this.#t=t}setDueDate(t){this.#e=t}setDescription(t){this.#s=t}setPriority(t){this.#i=t}flipDone(){this.#o=!this.#o}toJSON(){return{title:this.getTitle(),dueDate:this.getDueDate(),description:this.getDescription(),priority:this.getPriority(),done:this.isDone(),id:this.getID()}}}class e{#t;#r;#s;#n;constructor(t,e,s){this.#t=t,this.#r=e||[],this.#s=s,this.#n=crypto.randomUUID()}getTitle(){return this.#t}getItemsList(){return this.#r}getDescription(){return this.#s}getID(){return this.#n}setTitle(t){this.#t=t}setDescription(t){this.#s=t}length(){return this.#r.length}addItem(t){this.#r.push(t)}removeItem(t){const e=this.#r.findIndex((e=>e.getID()===t.getID()));-1!==e&&this.#r.splice(e,1)}removeAll(){}readItem(t){const e=this.#r.findIndex((e=>e.getID()===t.getID()));if(-1!==e)return this.getItemsList()[e]}toJSON(){return{title:this.getTitle(),itemsList:this.getItemsList(),description:this.getDescription(),id:this.getID()}}}class s{#t;#r;#c;#s;constructor(t,e){this.#t="Home",this.#s="Description",this.#r=t||[],this.#c=e||[]}getTitle(){return this.#t}getItemsList(){return this.#r}getProjectsList(){return this.#c}getDescription(){return this.#s}createItem(e,s,i,o,n=null,r=null){const c=new t(e,s,i,o,n,!1);if(this.addItem(c),null===r)return;const l=this.getProjectsList().findIndex((t=>t.getID()===r));-1!==l?this.getProjectsList()[l].addItem(c):console.error(`No project with id ${r} found`)}itemsLength(){return this.#r.length}addItem(t){this.#r.push(t)}removeItem(t){const e=this.#r.findIndex((e=>e.getID()===t.getID()));-1!==e&&(this.#c.forEach((e=>{e.removeItem(t)})),this.#r.splice(e,1))}readItem(t){const e=this.#r.findIndex((e=>e.getID()===t.getID()));if(-1!==e)return this.getItemsList()[e]}findItemFromID(t){const e=this.#r.findIndex((e=>e.getID()===t));if(-1!==e)return this.getItemsList()[e]}createProject(t,s,i){const o=new e(t,s,i);this.addProject(o)}projectsLength(){return this.#c.length}addProject(t){this.#c.push(t)}removeProject(t){const e=this.#c.findIndex((e=>e.getID()===t.getID()));if(-1===e)return;const s=this.getProjectsList()[e];for(let t=0;t<s.length();)this.removeItem(s.getItemsList()[t]);this.#c.splice(e,1)}readProject(t){const e=this.#c.findIndex((e=>e.getID()===t.getID()));if(-1!==e)return this.#c[e]}toJSON(){return{itemList:this.getItemsList(),projectsList:this.getProjectsList()}}parseFromJSON(t){const e=JSON.parse(t);for(let t=0;t<e.itemList.length;t++)this.recreateItem(e.itemList[t]);for(let t=0;t<e.projectsList.length;t++)this.recreateProject(e.projectsList[t])}recreateItem(t){this.createItem(t.title,t.dueDate,t.description,t.priority,t.id)}recreateProject(t){const e=t.itemsList.map((t=>this.findItemFromID(t.id)));this.createProject(t.title,e,t.description)}}function i(t,e,s){const i=document.createElement(t);i.innerText=s,e.appendChild(i)}function o(t,e){for(let s=0;s<e.length;s++){const o=document.createElement("li");i("button",o,e[s]),t.appendChild(o)}}const n=new t("Make cake","1/1/22","Making cakes is awesome","Low",!1);console.log(n),n.setTitle("Make cake 2"),console.log(n.getTitle()),n.flipDone(),console.log(n.isDone()),console.log(n.getID());const r=new e("Has values",[n],"New description"),c=new e("Has no values",null,"Has a description");r.setTitle("Has one value"),console.table(r),console.log(r.getDescription()),console.table(c),console.log(c.length()),c.addItem(n),console.table(c),console.log(c.getItemsList());const l=new t("Make cake33333","1/1/22","Making cakes is awesome","Low",!1),a=new t("Make cake3","1/1/22","Making cakes is awesome","Low",!1),d=new t("Make cake4","1/1/22","Making cakes is awesome","Low",!1),m=new t("Make cake5","1/1/22","Making cakes is awesome","Low",!1),h=new t("Make cake6","1/1/22","Making cakes is awesome","Low",!1);c.addItem(a),c.addItem(d),c.addItem(m),c.addItem(h),c.removeItem(l),console.table(c.getItemsList()),c.removeItem(m),console.table(c.getItemsList()),console.log(c.readItem(d));const g=new s;g.addItem(n),g.addItem(a),g.addItem(d),g.addItem(m),g.addItem(h),g.addItem(l),g.addProject(r),g.addProject(c),console.table(c.getItemsList()),g.removeItem(l),g.removeItem(n),g.createItem("This is a new item","now","foo","high"),g.createItem("This one goes to the empty project","yesterday","bar","low",c.getID()),console.clear(),g.createItem("This is a new item","now","foo","high","m"),console.table(g.getItemsList()),console.table(c.getItemsList()),g.createProject("New And Improved",null,"A good project"),console.table(g.getProjectsList()),g.getItemsList()[1].setTitle("Awesomer"),console.table(g.getItemsList()),console.table(c.getItemsList());const I=JSON.stringify(g);console.log(I),console.table(JSON.parse(I)),console.clear();const p=new s;p.parseFromJSON(I),console.table(p),p.getItemsList()[1].setTitle("this should be changed"),console.table(p.getItemsList()),console.table(p.getProjectsList()[1].getItemsList()),document.querySelector("body").appendChild(function(t){const e=function(t,e,s=""){const i=document.createElement(t);return i.classList.add(e),i.innerText=s,i}("div","sidebar"),s=document.createElement("ul");e.appendChild(s),o(s,["All Projects","Today","Upcoming"]);const n=document.createElement("li");return i("h2",n,"Projects"),s.appendChild(n),o(s,[...t].map((t=>t.getTitle()))),e}(g.getProjectsList()))})();